import{j as C,u as I,k as S,m as q,n as v,p as B,w as j,r as a,o as m,q as p,s as u,t,v as s,x as n,y as E,A as N,B as T,C as L}from"./vendor.b267fb73.js";import{_ as R,l as U,s as $}from"./index.5e9e5d1e.js";const z=l=>(E("data-v-159837b5"),l=l(),N(),l),A={class:"login-box"},K={class:"main"},O={class:"current-header"},D=z(()=>u("h3",null,"\u7528\u6237\u767B\u5F55",-1)),F={key:0},G={key:1},H={setup(l){const{proxy:_}=C(),x=I(),h=S(),b=q(),e=v({user:{username:"",password:""},loading:!1}),k=v({username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\uFF01",trigger:"blur"},{min:4,max:18,message:"\u957F\u5EA6\u5728 4 \u5230 18 \u4E2A\u5B57\u7B26",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01",trigger:"blur"},{min:5,max:18,message:"\u957F\u5EA6\u5728 5 \u5230 18 \u4E2A\u5B57\u7B26",trigger:"blur"}]}),d=B(void 0);j(()=>b.query,r=>{d.value=r.redirect},{deep:!0,immediate:!0});const f=()=>{_.$refs.form.validate(r=>{if(r)e.loading=!0,U(e.user).then(o=>{_.$message.success(o.msg),$(o.data.token),x.commit("user/SET_TOKEN",o.data.token),h.replace(d.value?d.value:"/")}).catch(o=>{e.loading=!1});else return!1})};return document.onkeyup=function(r){r.keyCode===13&&f()},(r,o)=>{const w=a("el-icon"),g=a("el-input"),i=a("el-form-item"),y=a("el-button"),V=a("el-form");return m(),p("section",null,[u("div",A,[u("div",K,[u("div",O,[t(w)]),D,t(V,{model:s(e).user,rules:s(k),ref:"form"},{default:n(()=>[t(i,{prop:"username"},{default:n(()=>[t(g,{"prefix-icon":s(T),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",modelValue:s(e).user.username,"onUpdate:modelValue":o[0]||(o[0]=c=>s(e).user.username=c)},null,8,["prefix-icon","modelValue"])]),_:1}),t(i,{prop:"password"},{default:n(()=>[t(g,{"prefix-icon":s(L),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801","show-password":"",modelValue:s(e).user.password,"onUpdate:modelValue":o[1]||(o[1]=c=>s(e).user.password=c)},null,8,["prefix-icon","modelValue"])]),_:1}),t(i,null,{default:n(()=>[t(y,{type:"primary",size:"medium",loading:s(e).loading,onClick:f},{default:n(()=>[s(e).loading?(m(),p("span",G,"\u767B \u5F55 \u4E2D...")):(m(),p("span",F,"\u767B \u5F55"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])])}}};var P=R(H,[["__scopeId","data-v-159837b5"]]);export{P as default};
//# sourceMappingURL=Login.53c660ac.js.map
